# openthos云 桌面版，手机版 需求文档
  - 说明 
  - 功能需求详情
    - 登录
    - 主页面
  - 其他功能确定
  
# 说明
  - openthos云 桌面版本和手机版 根据seafile版本2.2.9，进行拆分原有逻辑使其实现左右布局的分离，以满足项目的需求
  
# 功能需求详情
## 登录 - 登录页面继续使用原有逻辑分为：已添加帐号 和 未添加帐号
  - 已添加帐号
    - 已添加帐号默认直接进入主页面----> BrowserActivity
  - 未添加帐号
    - 初次登录以及没有添加帐号，在主页面进行了判断处理，没有帐号的会依次进入：添加帐号页面，选择服务器页面，登录页面
      - 添加帐号页面
        - 沿用原有逻辑，在添加账户页面进行布局调整，目前风格为左边对齐效果
      - 选择服务器页面
        - seafile.cc
          - 替换seafile.cc服务器为cloud.openthos.com
        - 统一登录
          - 隐藏此服务器不再使用
        - 其他openthos服务器
          - 使用openthos服务器
      - 登录页面
        - 在保留大部分原有逻辑基础上进行页面微调整：
        - 默认服务器输入框根据选择服务器自动补全服务器地址
        - 光标优化默认显示邮箱输入框
        - 登录按钮优化右对齐，替换默认颜色（紫罗兰）      
  - 登录页面新添加功能
    - 添加splash页面提高用户体验.
    
 ## 主页面
  - 主页面分为：title, body原有逻辑使用的是viewpager+fragment 进行页面的展示切换滑动等效果，title和body是一体根据页面的切换而改变状态
    - title 中包含了：
      - 1 回退按钮 ---- > body当前目录回退上一级目录，与body数据进行绑定----> 使用原有逻辑
      - 2.排序规则
        - 提供四种排序方式，点击对应的排序方式，进行当前body页面数据的排序  ----> 展示位置待定
      - 3.添加文件功能
        - 新建文件     ---->  在当前body目录里新建文件     ----> 提出 并入title页面 
        - 新建文件夹   ----> 在当前body目录里新建文件夹     ----> 提出 并入title页面 
        - 上传文件     ---->  选中本地文件，上传openthos云 ---->  提出 并入title页面 
        - 拍照上传     ----> 拍照并上传openthos云         ----> 显示位置 待定
      - 4.更多
        - 编辑      ----> 编辑当前body内容        ---->  显示位置待定
        - 传输列表  ----> 显示正在上传或者下载的数据 ---->  抽取与body内容并列右边显示 ----待实现
        - 帐号      ----> 跳转添加帐号页面         ---->  并入title 条目右边 显示内容需确定 ---- 待实现
        - 设置      ----> 跳转设置页面             ----> 页面展示位置待确定
    - body 中包含了: 资料库， 星标记 ，最近修改
      - 1.资料库
        - 展示资料库对应的数据与服务器数据同步
        - 展示位置 原有逻辑沾满body窗口 同星标记，最近修改，享用一个body体。 是三个fragment，根据用户不同操作切换内容
        - 现根据需求进行 资料库数据第一级目录和第二级，第三级目录拆分：
          - 第一级目录数据，做为菜单栏左侧展示， 
            - 每个条目最右边都有功能按键弹出： 重命名 ， 删除 
              - 重命名  删除 ----> 弹出方式有待确定（现已隐藏）， 待实现方式为： 长按弹出，右键弹出，

          - 第二级目录数据右边展示，并根据左侧不同的操作进行内容切换
            - 数据展示有文件夹，文件，以及图片，每个条目点击方式分为：长按，单点，和右边功能按键
              - 长按  ----> 此body体变为可编辑状态，title ui也跟随变化并展示： 删除， 全选，
              - 左边显示checkbox 选择框进行选中取消状态，
        
            - 支持长按 ----> 此body 体变为可编辑状态，title ui也跟随变化并展示：
              - 删除，----> 提出并入title
              - 复制，----> 待定
              - 移动， ----> 待定
              - 下载 ，----> 待定
              - 全选   ----> 待定
              
            - 单点
              - 打开对应的文件 
            
            - 条目功能菜单按键：
              - 根据条目是文件夹 还是文件弹出不同的功能菜单
                - 文件功能菜单
                  - 分享  ---->  待定 
                  - 导出  ---->  待定 
                  - 重命名  ---->  待定 
                  - 星标记  ----> 当前隐藏状态，显示位置有待确认
                  - 删除   ---->  待定 
                  - 复制   ---->  待定 
                  - 移动   ---->  待定 
                  - 上传  ---->  待定 
      - 2.星标记
       - body 数据中进行星标记的会在此目录展示 ---- > 添加位置待定
      - 3.最近修改
       - body 数据中进行的最新的修改会在此展示  ---->添加位置待定
       
# 其他功能确定
  -  适配问题 
    -  目前分为桌面版本 和 手机端版本 两种方式适配
      - 第一两套布局手机端一套 ，桌面版本一套（此方案研发成本比较高，要提供两套逻辑针对不同布局事件的处理）：
        - 手机端： 专门针对手机版本，布局继续沿用原seafile布局 只保留资料库一个目录进行数据展示
        - 桌面版本: 使用布局分离效果进行展示  
      - 第二 手机和桌面都使用左右布局分离效果，共用一套布局，在桌面和手机之间切换时布局自动适配（此方案在手机端体验不是很好，桌面版本会更好一点，效果同文件管理器，手机和桌面切换效果相似）
   







  
  
